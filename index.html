<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<p>Choose a letter! (letters are chosen by hitting keys)</p>
	<p>Hit Enter for a new word</p>
	<p id="word">testing</p>

 	<!-- Hangman game -->
	<script type="text/javascript">
		// reset all letters
		// Player selects letter check
			// if letter isUsed (in the word) fill in the blank check
			// if notUsed (not in the word) hang a part 
			// After those remove letter from pool, redo this inputcheck

		var hangman = {
			// creation of variables
			letters: "abcdefghijklmnopqrstuvwxyz".split(""),
			usedLetters: [],
			words: ["oak", "ash", "hickory", "walnut", "aspen", "pine", "cherry", "balsa"],
			usedWords: [],
			userInput: "",
			currentWord: "",
			currentGuess: [],
			counter: 0,

			// functions

			// reset letters upon new word
			reset: function(){
				this.usedLetters = [];
			},

			// random whole number generators
			randomNumber: function(min, max) {
				return Math.floor(Math.random() * (max - min)) + min;
			},

			// this displays blanks for the number of letters in the word
			displayWord: function() {
				this.currentGuess = [];
				for (var i=0; i < this.currentWord.length; i++) {
					this.currentGuess.push("_");
				}
			},

			// selecting new word
			newWord: function() {
				this.reset();
				var stash = this.randomNumber(0, this.words.length);
				//The && is for making sure you dont use more words then you have
				if (this.words.length != 0 && stash > -1) {
					// reset currentWord
					this.currentWord = ""
					this.usedWords.push(this.words[stash]);
					// assign new currentWord
					this.currentWord = this.words[stash];
					// scraps word that has been used
					this.words.splice(stash, 1);
					this.displayWord();
					var content = document.getElementById('word');
					content.innerHTML = "<p>" + hangman.currentGuess + "  Used Letters - " + hangman.usedLetters + "</p>";
				}
				else {
					alert("Ran out of words")
				}
			},

			// move the input key to the usedLetters array and take it out of the letters array
			pushLetter: function() {
				var stash = this.usedLetters.indexOf(this.userInput);
				if (stash === -1) {
					this.usedLetters.push(this.userInput);
				}
				else {
					alert("You've used that letter before")
				}
			},

			// replace blanks with the correcct letter
			displayLetter: function() {
				for (var i=0; i < this.currentWord.length+1; i++) {
					if (this.userInput===this.currentWord[i]) {
						this.currentGuess[i] = this.userInput;
					}
					else {
					}
				}
				this.pushLetter();
			},

			// This function is kind of broken  the goal is for when you finish a word it asks if you want to do another word.  If true get new word, else nothing.
			wordDone: function() {
				if (this.currentGuess.indexOf("_") === -1){
					if (confirm("Congrats! want to play again?")) {
						this.newWord();
						var content = document.getElementById('word');
						content.innerHTML = "<p>" + hangman.currentGuess + "  Used Letters - " + hangman.usedLetters + "</p>";
						}
					}
				
				else {}
			},
		};
		// checks if DOM ready
		document.onload
			hangman.newWord();
		// when key hit do this
		document.onkeyup = function(event){
			if (event.key == "Enter") {
				hangman.newWord()
				var content = document.getElementById('word');
				content.innerHTML = "<p>" + hangman.currentGuess + "</p>";
			}
			else if (hangman.letters.indexOf(event.key) === -1){
				alert("Please use a letter key")
			}
			else{
				hangman.userInput = event.key;
				hangman.displayLetter();
				// hangman.userInput = ""; testing to ensure letters are being stored
				var content = document.getElementById('word');
				content.innerHTML = "<p>" + hangman.currentGuess + "  Used Letters - " + hangman.usedLetters + "</p>";
				setTimeout(function() { hangman.wordDone(); }, 500);
			}
		}
	</script>
</body>
</html>





